id: prismatic
name: Prismatic
type: tenant
description: Prismatic - embedded iPaaS platform for B2B SaaS companies

# ══════════════════════════════════════════════════════════════════════════════
# TENANT GROUP: corporate (ENTITY MODEL)
# ══════════════════════════════════════════════════════════════════════════════
# Prismatic now uses the Entity Model (as of Dec 2024):
# - Source: Domain (the URL/domain IS the entity)
# - Output: Research_* collections
#
# This aligns with all other production tenants.
tenant_group: corporate

# Primary entity collection for this tenant (used by reference CLI and other tools)
entity_collection: Domain

# Groups: collection access permissions
groups: ["research", "url"]

# Issue #224: Use global classifier tenant for Vec classification seeds
# This separates seed data from production data for cleaner architecture
classifier_tenant: classifier

# ══════════════════════════════════════════════════════════════════════════════
# MODEL VERSIONING: Track which LLM model generated research data
# ══════════════════════════════════════════════════════════════════════════════
# Enables parallel research with different models and model comparison.
# - default_researcher_model: Model used for reporting queries (stable baseline)
# - current_researcher_model: Model used for new research runs (can change)
#
# When both are set:
# - DataFactory auto-filters Research_* queries by default_researcher_model
# - New research records are tagged with current_researcher_model
#
# To switch models: Change current_researcher_model, run research, then update
# default_researcher_model when ready to switch reporting to new model data.
default_researcher_model: gpt-5-mini
current_researcher_model: gpt-5-mini

# User/persona information (configuration data)
user:
  name: Michael
  role: CEO
  email: michael@prismatic.io

# Analysis configuration - OPTIMIZED for token efficiency
# NOTE: Not used by page_facts_vector injector. Used by context management tools
# (pom_core/services/ai_tool_modules/context_management/context_manager_tool.py)
# and prompt reporting utilities.
analysis_config:
  # ONE mission statement (not 3!)
  mission: "Find B2B SaaS with APIs, 100+ customers asking for integrations, dev teams of 5-50"

  # Industry targeting
  industry_focus: ["b2b_saas", "fintech", "ecommerce_platforms", "marketing_automation", "crm", "hr_tech", "vertical_saas"]

  # Researcher-specific domain expertise (concise key indicators only)
  researcher_guidance:
    product:
      key_indicators: ["API documentation", "Integration marketplace", "Developer resources", "Tech blog", "GitHub presence"]
      tech_stack_emphasis: "Extract from engineering blog, job posts, tech stack page"
      critical_fields: ["technologyStack", "coreProducts", "productCategories", "valueProposition"]

    industry:
      naics_focus: ["518210", "511210", "541511"]  # Software publishers, data processing, custom computer programming
      market_signals: ["SaaS metrics", "API subdomain patterns", "Developer community"]

# ══════════════════════════════════════════════════════════════════════════════
# RESEARCHER EXAMPLES: Domain-specific output examples per researcher
# NOTE: Not used by page_facts_vector injector. Used by classification tools
# (enum_classifier/vec_classifier) and prompt rendering.
# ══════════════════════════════════════════════════════════════════════════════
# Full schema examples showing expected LLM + Cat field values.
# Used by:
# - Entity researcher prompts (LLM field examples)
# - Post-execution tools like enum_cat (Cat field examples)
#
# Examples use GENERAL software patterns (not niche/domain-specific).
# The classifier should learn patterns, not specific industry knowledge.
researcher_examples:
  # ═══════════════════════════════════════════════════════════════════════════
  # INDUSTRY RESEARCHER - Business model, delivery model, industry classification
  # ═══════════════════════════════════════════════════════════════════════════
  industry:
    # LLM fields - what the entity researcher should produce
    businessModelLLM:
      - "B2B software company selling annual subscriptions to enterprise customers. Revenue primarily from recurring SaaS licenses with tiered pricing based on users and features. Sales-led go-to-market with inside sales for SMB and field sales for enterprise accounts."
    deliveryModelLLM:
      - "Cloud-hosted software accessed through web browser and mobile apps. No installation required - customers log in and start using immediately. All infrastructure managed by provider with automatic updates and 99.9% uptime SLA."
    industrySegmentLLM:
      - "Enterprise software provider offering business applications to corporate customers. Serves mid-market and enterprise companies across multiple industries. Competes with legacy on-premise software and other cloud vendors."
    sector:
      - "Software"
    industry:
      - "Enterprise Applications"
    naicsCode:
      - "511210"
    naicsDescription:
      - "Software Publishers"
    valueChainPosition: "Software vendor selling directly to end-user businesses"
    entityDescription: "Enterprise software company providing cloud-based business applications"
    # Cat fields - expected classification results
    businessModelCat:
      - "B2B-SaaS"
    deliveryModelCat:
      - "Cloud-SaaS"
    industrySegmentCat:
      - "Enterprise Software"

  # ═══════════════════════════════════════════════════════════════════════════
  # CUSTOMER RESEARCHER - Customer profiles, segments, and characteristics
  # ═══════════════════════════════════════════════════════════════════════════
  customer:
    # LLM fields
    keyCustomersLLM:
      - "Enterprise customers include Fortune 500 companies across technology, financial services, and healthcare sectors. Named customers include Adobe, Atlassian, and ServiceNow."
    customerProfileLLM:
      - "Target customers are mid-market and enterprise B2B SaaS companies with 50-5000 employees. They typically have developer teams building customer-facing products and need to offer native integrations."
    # Cat fields
    customerSizeCat:
      - "Enterprise"
    keyCustomerSizeCat:
      - "Enterprise"
    customerSectorCat:
      - "Technology"
    keyCustomerSectorCat:
      - "Technology"
    customerRegionCat:
      - "North America"

  # ═══════════════════════════════════════════════════════════════════════════
  # COMPETITOR RESEARCHER - Competitive landscape and positioning
  # ═══════════════════════════════════════════════════════════════════════════
  competitor:
    # LLM fields
    keyCompetitorsLLM:
      - "Direct competitors include Workato, Boomi, and MuleSoft in the iPaaS space. Indirect competitors include point-to-point integration tools and in-house development teams."
    competitivePositionLLM:
      - "Differentiated through embedded iPaaS focus rather than general enterprise iPaaS. Targets B2B SaaS companies building native integrations into their products."
    # Cat fields
    competitorAnalysisCat:
      - "Highly Competitive"
    marketPositionCat:
      - "Challenger"

  # ═══════════════════════════════════════════════════════════════════════════
  # PRODUCT RESEARCHER - Technology, features, and product characteristics
  # ═══════════════════════════════════════════════════════════════════════════
  product:
    # LLM fields
    technologyStackLLM:
      - "Cloud-native platform built on modern microservices architecture. Uses React for frontend, Node.js and Python for backend services, with PostgreSQL and Redis for data storage."
    coreProductsLLM:
      - "Primary product is an embedded iPaaS platform enabling B2B SaaS companies to build native integrations. Includes visual integration designer, embedded marketplace, and developer SDK."
    pricingModelLLM:
      - "Usage-based pricing with platform fee. Tiers based on number of active integrations and API calls. Enterprise tier includes dedicated support and custom SLAs."
    # Cat fields
    technologyStackCat:
      - "Modern Cloud-Native"
    pricingModelCat:
      - "Usage-Based"
    integrationProfileCat:
      - "API-First"
    productMaturityCat:
      - "Growth Stage"

  # ═══════════════════════════════════════════════════════════════════════════
  # FINANCIAL RESEARCHER - Funding, revenue, and growth metrics
  # ═══════════════════════════════════════════════════════════════════════════
  financial:
    # LLM fields
    fundingHistoryLLM:
      - "Series B funded with $20M raised to date. Investors include prominent enterprise SaaS VCs. Most recent round closed in 2023."
    revenueEstimateLLM:
      - "Estimated ARR of $10-20M based on customer count and typical enterprise SaaS pricing. Growing 100%+ YoY based on press releases and hiring velocity."
    # Cat fields
    fundingStageCat:
      - "Series B"
    revenueSizeCat:
      - "$10M-$50M"
    growthVelocityCat:
      - "Hypergrowth"
    profitabilityProfileCat:
      - "Pre-Profit Growth"

  # ═══════════════════════════════════════════════════════════════════════════
  # LEADERSHIP RESEARCHER - Executive team and founder profiles
  # ═══════════════════════════════════════════════════════════════════════════
  leadership:
    # LLM fields
    keyExecutivesLLM:
      - "CEO is a repeat founder with prior exits in enterprise software. CTO has experience at major tech companies. Leadership team has deep enterprise SaaS experience."
    founderBackgroundLLM:
      - "Technical founder with engineering background. Previously built and sold B2B software companies. Strong network in enterprise software ecosystem."
    # Cat fields
    founderProfileCat:
      - "Serial Entrepreneur"
    executiveExperienceCat:
      - "Enterprise Software Veterans"
    leadershipStyleCat:
      - "Product-Led"

# Data sources configuration (infrastructure only)
data_sources:
  source_collection: Source

# Collection routing (REQUIRED for tenant isolation)
# Maps collection names to Weaviate instances: "cloud", "spark", "local", "mac"
# Prismatic tenant routes to Weaviate Cloud for production data
# Credentials come from environment variables (.env) - tenant just specifies instance
collections:
  # ENTITY MODEL: Opportunity collection (new entity model)
  Opportunity: "cloud"
  # ENTITY MODEL: Research_* collections - all on Cloud
  Research_competitor: "cloud"
  Research_customer: "cloud"
  Research_financial: "cloud"
  Research_industry: "cloud"
  Research_journalist: "cloud"
  Research_leadership: "cloud"
  Research_partner: "cloud"
  Research_product: "cloud"
  Research_risk: "cloud"
  Research_social: "cloud"

  # Source collection (entity-agnostic source) - on Cloud
  Source: "cloud"

  # Domain collection (primary entity for Entity Model) - on Cloud
  Domain: "cloud"

  # Page collections (group: url) - GPU-accelerated on Spark
  Page_facts: "spark"
  Page_intelligence: "spark"


  # Fact base (canonical facts per Domain × Researcher × Source) - on Spark
  Fact_base: "spark"

  # API cache (external API responses) - on Spark
  API_intelligence: "spark"

# ══════════════════════════════════════════════════════════════════════════════
# URL PATTERNS - B2B SaaS Domain-Specific
# ══════════════════════════════════════════════════════════════════════════════
# These ADD to corporate.yaml core patterns
# Corporate core includes: about, team, customer, blog, legal, etc.

url_patterns:
  high_value:
    # B2B SaaS Product Pages
    - pattern: "/(product|platform|solution|feature|capability)s?(/|$)"
      default_weight: 0.85
      researcher_weights:
        product: 1.0
        customer: 0.7
        competitor: 0.8
        industry: 0.75

    # B2B SaaS Pricing (critical differentiator)
    - pattern: "/(pricing|plan|package|subscription|tier|quote)s?(/|$)"
      default_weight: 0.9
      researcher_weights:
        product: 0.9
        financial: 1.0
        customer: 0.85
        competitor: 0.9

    # B2B SaaS Integrations (key differentiator)
    - pattern: "/(integration|api|developer|doc|sdk|connector|marketplace)s?(/|$)"
      default_weight: 0.9
      researcher_weights:
        product: 1.0
        partner: 0.95
        customer: 0.6
        competitor: 0.7

    # B2B SaaS Investors & Funding
    - pattern: "/(investor|funding|raise|series|venture|capital)s?(/|$)"
      default_weight: 0.85
      researcher_weights:
        financial: 1.0
        leadership: 0.6
        risk: 0.7

    # B2B SaaS Partners & Ecosystem
    - pattern: "/(partner|ecosystem|marketplace|alliance|certified)s?(/|$)"
      default_weight: 0.8
      researcher_weights:
        partner: 1.0
        product: 0.7
        industry: 0.6

    # B2B SaaS Security & Compliance
    - pattern: "/(security|compliance|trust|soc2|gdpr|hipaa|iso)(/|$)"
      default_weight: 0.75
      researcher_weights:
        risk: 1.0
        product: 0.7
        customer: 0.6

    # B2B SaaS Industry/Vertical Solutions
    - pattern: "/(industr|vertical|sector|enterprise|smb|startup)ies?(/|$)"
      default_weight: 0.8
      researcher_weights:
        industry: 1.0
        customer: 0.85
        product: 0.6

  medium_value:
    # B2B SaaS Changelog & Updates
    - pattern: "/(changelog|release|update|what.?s.?new|version)s?(/|$)"
      default_weight: 0.55
      researcher_weights:
        product: 0.85
        journalist: 0.6
        competitor: 0.7

    # B2B SaaS Demo & Trial
    - pattern: "/(demo|trial|sandbox|playground|free.?tier)s?(/|$)"
      default_weight: 0.5
      researcher_weights:
        product: 0.75
        customer: 0.6
        competitor: 0.65

    # B2B SaaS Community & Forums
    - pattern: "/(community|forum|discuss|slack|discord)s?(/|$)"
      default_weight: 0.5
      researcher_weights:
        social: 0.9
        customer: 0.65
        product: 0.5

    # B2B SaaS Blog Content (deep dive analysis addition)
    - pattern: "/(blog|article|post)s?(/|$)"
      default_weight: 0.45
      researcher_weights:
        product: 0.6
        customer: 0.5
        industry: 0.55
        competitor: 0.4

    # Guides & Educational Content
    - pattern: "/(guide|handbook|playbook|whitepaper)s?(/|$)"
      default_weight: 0.6
      researcher_weights:
        product: 0.85
        customer: 0.7
        industry: 0.6

    # Tools & Calculators
    - pattern: "/(tool|calculator|assessment)s?(/|$)"
      default_weight: 0.5
      researcher_weights:
        product: 0.7
        customer: 0.6

    # Resources & Downloads
    - pattern: "/(resource|download|asset)s?(/|$)"
      default_weight: 0.45
      researcher_weights:
        product: 0.6
        customer: 0.55

# ══════════════════════════════════════════════════════════════════════════════
# ANTIPATTERNS - B2B SaaS Domain-Specific
# ══════════════════════════════════════════════════════════════════════════════
# These ADD to corporate.yaml core antipatterns

url_antipatterns:
  # B2B SaaS Integration Callbacks
  - pattern: "/(webhook|callback|oauth|redirect|return|success|failure)/"
    score: 0.05
    reason: "Integration callbacks - not content"

  # B2B SaaS App/Portal Paths
  - pattern: "/(app|portal|dashboard|workspace)/"
    score: 0.1
    reason: "App portals - require auth, not public content"

  # Careers pages - not research relevant
  - pattern: "/(career|job|hiring|join-us)s?(/|$)"
    score: 0.1
    reason: "Careers - not research relevant"

  # Error pages
  - pattern: "/404"
    score: 0.05
    reason: "Error pages"

  # Marketing landing pages
  - pattern: "/(lp|landing)/"
    score: 0.15
    reason: "Marketing landing pages"

  # Subscription management
  - pattern: "/(subscribe|unsubscribe|newsletter)/"
    score: 0.1
    reason: "Subscription management"
