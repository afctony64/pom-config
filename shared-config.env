# =============================================================================
# SHARED CONFIGURATION (Non-Secrets)
# =============================================================================
#
# This file is part of pom-config and is shared across all Pom ecosystem apps.
# Update via: ./scripts/pom_config.sh update
#
# CURRENT MODE: home (Mac + Spark)
# To switch modes, see profiles/ directory for mode-specific values:
#   - profiles/home.env   - Mac + Spark (current)
#   - profiles/travel.env - Mac only
#   - profiles/ooo.env    - Spark unattended
#
# This file contains system-wide configuration that is NOT secret:
#   - System paths (where data/reports/configs live)
#   - System behavior flags (mode, log level)
#   - Service URLs (non-secret endpoints)
#
# For secrets (API keys, passwords), use ~/.shared-credentials.env instead.
#
# See: pom-core #547, pom-docs/docs/infrastructure/SHARED_CONFIG_GUIDE.md
#
# =============================================================================

# =============================================================================
# SYSTEM PATHS
# =============================================================================

# Researcher seed data directory (used by pom-core seed loading)
# PomAI owns seed data at /app/PomAI/Data/seeds/ (17,392 records)
RESEARCHER_SEED_OUTPUT_DIR=/app/PomAI/Data/seeds

# Shared reports directory (centralized reports outside all repos)
# All Pom projects write to this location (accessible via mac-report-server)
# Mac: ~/Projects/shared-reports
# Spark (container): /shared-reports
SHARED_REPORTS_PATH=/shared-reports

# pom-config shared configuration root (schemas, data_cards, llm_models, etc.)
# This is set automatically by the container mount
POM_CONFIG_ROOT=/app/shared_config

# =============================================================================
# SYSTEM BEHAVIOR
# =============================================================================

# PomSpark infrastructure mode
# Options: home (Mac + Spark), travel (Mac only), ooo (Spark unattended)
POMSPARK_MODE=home

# Default workload profile for resource allocation
# Options: ai, data_pipeline, balanced, network_friendly, query_only, travel
# data_pipeline = Priority backend/embedding for Domain/Page/Facts pipeline
DEFAULT_WORKLOAD_PROFILE=data_pipeline

# Weaviate mode (which Weaviate instance to use)
# Options: spark (local Spark Weaviate), cloud (Weaviate Cloud), local (Mac Weaviate)
WEAVIATE_MODE=spark

# Default log level for all services
LOG_LEVEL=INFO

# =============================================================================
# WEAVIATE CONFIGURATION
# =============================================================================

# Weaviate URLs
MAC_WEAVIATE_URL=http://mac-weaviate:8080
SPARK_WEAVIATE_URL=http://spark-weaviate:8080
WEAVIATE_GRPC_URL=spark-weaviate:50051

# Default target for new collections
DEFAULT_WEAVIATE_TARGET=cloud

# =============================================================================
# OLLAMA CONFIGURATION (LLM Inference)
# =============================================================================

# Primary Ollama URL (based on current mode)
# Home mode: Spark Docker (CUDA GPU)
OLLAMA_URL=http://spark-ollama:11434

# Mac native Ollama service (runs on host, not in Docker - for Metal GPU access)
# Docker containers access via: http://host.docker.internal:11435
MAC_OLLAMA_URL=http://host.docker.internal:11435

# Spark Ollama service (Docker container on Spark server)
SPARK_OLLAMA_URL=http://spark-ollama:11434

# =============================================================================
# TRANSFORMERS CONFIGURATION (Embeddings)
# =============================================================================

# Primary Transformers URL (based on current mode)
# Home mode: Spark load balancer (GPU cluster)
TRANSFORMERS_URL=http://spark-transformers-lb:80

# Mac Metal transformers
MAC_TRANSFORMERS_URL=http://host.docker.internal:8093

# Spark transformers load balancer
SPARK_TRANSFORMERS_URL=http://spark-transformers-lb:80

# =============================================================================
# OTHER SERVICES
# =============================================================================

# LLM Proxy URL
LLM_PROXY_URL=http://pom-llm-proxy:8000

# Redis URL
REDIS_URL=redis://mac-redis:6379
