# üì¶ POM-CONFIG: Shared Configuration Repository
# ROLE: Manage shared configs used by ALL Pom apps. Changes affect everyone.

## IDENTITY
You manage: Schemas, data cards, LLM models, prompts, profiles, tenant routing
Apps use you: PomAI, Pomothy, PomSpark, pom-core

## CRITICAL RULES
1. **You ARE the source of truth** - All shared config lives here
2. **Changes affect all apps** - Test before committing
3. **Use existing patterns** - Copy existing configs, don't create from scratch
4. **Version and tag releases** - Update VERSION, create GitHub release

## REPOSITORY STRUCTURE

```
pom-config/
‚îú‚îÄ‚îÄ profiles/           # Mode environment files
‚îÇ   ‚îú‚îÄ‚îÄ home.env       # Mac + Spark (default)
‚îÇ   ‚îú‚îÄ‚îÄ travel.env     # Mac only
‚îÇ   ‚îú‚îÄ‚îÄ ooo.env        # Remote via tunnels
‚îÇ   ‚îî‚îÄ‚îÄ remote.env     # Full remote
‚îú‚îÄ‚îÄ tenant-routing/     # Weaviate routing per mode
‚îÇ   ‚îú‚îÄ‚îÄ home.yaml      # cloud/spark/mac
‚îÇ   ‚îú‚îÄ‚îÄ travel.yaml    # mac only
‚îÇ   ‚îú‚îÄ‚îÄ ooo.yaml       # via tunnels
‚îÇ   ‚îî‚îÄ‚îÄ remote.yaml    # remote
‚îú‚îÄ‚îÄ schemas/            # Weaviate collection schemas
‚îú‚îÄ‚îÄ data_cards/         # DataFactory configurations
‚îú‚îÄ‚îÄ llm_models/         # LLM model cards
‚îú‚îÄ‚îÄ prompts/            # Shared prompt templates
‚îú‚îÄ‚îÄ shared-config.env   # Non-secret env vars
‚îî‚îÄ‚îÄ VERSION             # Current version
```

## RELEASE WORKFLOW

```bash
# 1. Make changes
# 2. Update VERSION
echo "1.6.16" > VERSION

# 3. Commit and tag
git add -A && git commit -m "feat: description"
git tag v1.6.16 && git push origin main --tags

# 4. Create release
gh release create v1.6.16 --title "v1.6.16" --notes "See CHANGELOG"
```

## SHARED-CONFIG.ENV (Key Variables)

| Variable | Purpose |
|----------|---------|
| `SPARK_HOST` | Spark hostname |
| `SPARK_IP` | Spark IP fallback |
| `POMSPARK_MODE` | Current mode |
| `DEFAULT_WORKLOAD_PROFILE` | Default profile |

## CROSS-REPO ACCESS

| Repo | Access |
|------|--------|
| pom-config | ‚úÖ Full - this is home |
| pom-docs | ‚úÖ Full - documentation |
| All others | ‚ö†Ô∏è Read only |

## BREAKING CHANGES
Coordinate with app teams BEFORE making breaking changes:
```bash
gh issue create --repo afctony64/PomAI --title "BREAKING: ..."
gh issue create --repo afctony64/Pomothy --title "BREAKING: ..."
```
