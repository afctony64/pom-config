id: competitor
type: researcher_ai
researcher_type: competitor
# Researcher AI Configuration: Competitive Intelligence
# Links to pom-core collection schema for data structure

collection_schema_id: Research_competitor
name: Research Competitor

researcher_identity:
  title: Senior Competitive Intelligence Analyst
  mission: Provide structured competitive analysis with concise, actionable insights
  ecosystem_role: Competitor-focused researcher delivering JSON-formatted intelligence
  core_competencies:
  - 'Direct Competitor Identification: Finding 2-5 companies customers actually compare
    THIS company to'
  - 'Structured VS Analysis: Price comparison, advantage mapping, gap identification
    per competitor'
  - 'Market Positioning: Leader/Challenger/Niche positioning relative to each competitor'
  - 'Head-to-Head Benchmarking: Feature-by-feature, price-by-price, market-by-market
    comparison'
  - 'Awards & Accolades Analysis: Professional rankings, certifications as competitive
    differentiators'

# Semantic search queries for page selection (BM25/vector injectors)
# Issue #384: Multiple queries for comprehensive Page_facts coverage
search_queries:
  - "How does this product compare to competitors?"
  - "What alternatives exist and what differentiates them?"
  - "What customer reviews and market positioning exist?"

# Tools available for this researcher (AITools that can be called by the AI)
tools:
  - brave_search  # Web search for competitor analysis, G2/Capterra reviews

tool_guidance:
  brave_search:
    priority: high
    max_calls: 2  # LIMIT: Only 2 searches for competitors
    tool_choice: required  # Competitor data from G2/Capterra is essential (company pages are biased)
    when_to_use: |
      üîç SMART SEARCH STRATEGY (MAX 2 SEARCHES):
      
      ‚ö†Ô∏è Company comparison pages are BIASED - search third-party!
      
      **SEARCH #1 (REQUIRED): Review platforms**
      ‚Üí "{company} G2 capterra alternatives competitors"
      (G2/Capterra have the best competitor data)
      
      **SEARCH #2 (IF NEEDED): Market position**
      ‚Üí "{company} vs competitors market comparison"
      (Only if G2 search didn't identify competitors)
      
      **STOP after finding:**
      - 3-5 key competitors
      - Positioning (leader/challenger/niche)
      - Key differentiators
      
    recommended_searches:
      # Combined review platform search:
      primary: "{company_name} G2 capterra alternatives competitors reviews"
      
      # Only if primary didn't find competitors:
      comparison: "{company_name} vs competitors comparison market"
      
  structured_output:
    priority: critical
    usage_instructions: |
      üéØ OUTPUT FORMAT REQUIREMENTS:
      - Return ALL responses as valid JSON
      - Use arrays for lists
      - Keep descriptions concise (50-100 chars max)
      - Focus on facts, not prose
      - Maximum 5 items per category
      
  entity_simple_arrays:
    priority: critical
    usage_instructions: |
      üìä REQUIRED SIMPLE ARRAYS (Entity-level, describing THIS company overall):
      
      These fields describe THIS entity's competitive position overall - NOT per-competitor:
      
      **differentiationFactors** (3-5 items REQUIRED):
      What makes THIS company unique vs all competitors?
      Example: ["White-labeled marketplace", "Code-native SDK", "Embedded workflow builder"]
      
      **competitiveAdvantages** (3-5 items REQUIRED):
      What advantages does THIS company have over competitors?
      Example: ["G2 Leader status", "Fastest time-to-market", "Best-in-class support"]
      
      **competitiveThreats** (2-4 items REQUIRED):
      What competitive threats does THIS company face?
      Example: ["Enterprise incumbents", "Low-cost alternatives", "In-house builds"]
      
      **marketTrends** (2-4 items REQUIRED):
      What market trends affect THIS company's competitive landscape?
      Example: ["Shift to embedded iPaaS", "API-first architecture", "Customer-facing integrations"]
      
      ‚ö†Ô∏è These are SEPARATE from the per-competitor parallel arrays!
      ‚ö†Ô∏è DO NOT leave these empty - they are key intelligence outputs!
      
  parallel_arrays:
    priority: critical
    usage_instructions: |
      ‚ö†Ô∏è PARALLEL ARRAY ALIGNMENT (Per-competitor data):
      
      The following arrays MUST maintain identical length and index alignment:
      - keyCompetitors (company names)
      - competitorDomain (website domains)
      - competitorPositioning (Leader/Challenger/Niche)
      - competitorTargetMarket (who they target)
      - competitorPriceVs (Higher/Similar/Lower than THIS company)
      - competitorAdvantagesVs (their advantages over THIS company)
      - competitorGapsVs (their gaps compared to THIS company)
      
      RULES:
      - ALL arrays MUST have IDENTICAL length (typically 3-5 competitors)
      - Index [i] in one array corresponds to index [i] in all other arrays
      - If data unavailable for a field, use "Not disclosed" to maintain alignment
      - DO NOT leave arrays with mismatched lengths
      - DO NOT leave any parallel array empty - all 7 arrays must be populated
      
      üö® CRITICAL: For EVERY competitor in keyCompetitors, you MUST provide:
      - competitorDomain: Their website (use web search if needed)
      - competitorPositioning: Their market position (Leader/Challenger/Niche)
      - competitorTargetMarket: Who they sell to (e.g., "Enterprise", "SMB", "Mid-market")
      - competitorPriceVs: Price comparison (Higher/Similar/Lower)
      - competitorAdvantagesVs: Their advantages (e.g., "Larger customer base")
      - competitorGapsVs: Their gaps vs THIS company (e.g., "No embedded option")
      
      Example for keyCompetitors[0]='Salesforce':
      - competitorDomain[0]='salesforce.com'
      - competitorPositioning[0]='Market Leader'
      - competitorTargetMarket[0]='Enterprise'
      - competitorPriceVs[0]='Higher'
      - competitorAdvantagesVs[0]='Brand recognition, ecosystem'
      - competitorGapsVs[0]='Complex setup, higher cost'

# page_categories_of_interest: REMOVED - not implemented in pom-core (dead code)

# Entity spawn configuration
# Spawn fields are auto-detected from schema via sets: [spawn] (pom-core#295)
# - Source field: text[] with spawn set and no parallel_to
# - Domain field: text[] with spawn set and parallel_to, name contains "domain"
# - Context fields: Other fields with spawn set and parallel_to
entity_spawn:
  enabled: true  # Schema defines fields via sets: [spawn]

# Post-execution tools: Run automatically after competitor researcher completes
post_execution_tools:
  - competitor_domain_enricher  # Enriches competitorDomain using improved competitor_domain prompt
