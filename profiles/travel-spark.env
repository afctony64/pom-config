# =============================================================================
# TRAVEL-SPARK MODE PROFILE
# =============================================================================
#
# Use when: Traveling with Spark connected directly via ethernet (no router)
#
# This profile uses SSH TUNNELS for secure access to Spark services.
# No direct IP connectivity required - all traffic goes through SSH.
#
# Network: Direct ethernet with SSH tunnels
#   - SSH works over IPv6 link-local (no firewall changes needed)
#   - Services accessed via localhost tunnel ports
#
# =============================================================================

# Mode Identifier
POMSPARK_MODE=travel-spark

# Default workload profile
DEFAULT_WORKLOAD_PROFILE=data_pipeline

# =============================================================================
# TUNNEL CONFIGURATION
# =============================================================================
# Spark services are accessed via SSH tunnels on localhost
# Start tunnels with: ./scripts/travel/spark-tunnels.sh start

# Tunnel ports (Mac localhost -> Spark service)
TUNNEL_WEAVIATE_PORT=18080
TUNNEL_WEAVIATE_GRPC_PORT=18051
TUNNEL_OLLAMA_PORT=18434
TUNNEL_REDIS_PORT=16379
TUNNEL_TRANSFORMERS_PORT=18090
TUNNEL_GRAFANA_PORT=13000
TUNNEL_PROMETHEUS_PORT=19090

# =============================================================================
# WEAVIATE CONFIGURATION (via tunnel)
# =============================================================================

WEAVIATE_MODE=spark

# Mac containers use host.docker.internal to reach tunnels on Mac host
MAC_WEAVIATE_URL=http://mac-weaviate:8080
SPARK_WEAVIATE_URL=http://host.docker.internal:18080
WEAVIATE_GRPC_URL=host.docker.internal:18051

DEFAULT_WEAVIATE_TARGET=spark

# =============================================================================
# OLLAMA CONFIGURATION (via tunnel)
# =============================================================================

# Primary Ollama (Spark via tunnel)
OLLAMA_URL=http://host.docker.internal:18434
SPARK_OLLAMA_URL=http://host.docker.internal:18434

# Mac fallback
MAC_OLLAMA_URL=http://host.docker.internal:11435

# =============================================================================
# TRANSFORMERS CONFIGURATION (via tunnel)
# =============================================================================

# Primary Transformers (Spark via tunnel)
TRANSFORMERS_URL=http://host.docker.internal:18090
SPARK_TRANSFORMERS_URL=http://host.docker.internal:18090

# Mac Metal fallback
MAC_TRANSFORMERS_URL=http://host.docker.internal:8093

# =============================================================================
# REDIS CONFIGURATION (via tunnel)
# =============================================================================

MAC_REDIS_URL=redis://mac-redis:6379
SPARK_REDIS_URL=redis://host.docker.internal:16379
REDIS_URL=redis://host.docker.internal:16379

# =============================================================================
# TRAVEL-SPARK MODE NOTES
# =============================================================================
#
# Setup steps:
#   1. Connect ethernet cable between Mac and Spark
#   2. Start tunnels: ./scripts/travel/spark-tunnels.sh start
#   3. Switch mode: ./scripts/dev.sh travel
#
# Benefits of tunnel approach:
#   - More secure (only SSH port exposed)
#   - Works with IPv6 (no firewall changes needed on Spark)
#   - No static IP configuration required on Spark
#
# Tunnel ports:
#   Weaviate:     localhost:18080 (HTTP), localhost:18051 (gRPC)
#   Ollama:       localhost:18434
#   Redis:        localhost:16379
#   Transformers: localhost:18090
#   Grafana:      localhost:13000
#   Prometheus:   localhost:19090
#
# See: docs/DIRECT_ETHERNET_SETUP.md for full guide
#
# =============================================================================
