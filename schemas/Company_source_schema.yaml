type: core
class: Company_source
description: Master company source collection with flat field structure and comprehensive
  web research
invertedIndexConfig:
  bm25:
    b: 0.75
    k1: 1.2
  cleanupIntervalSeconds: 60
  indexTimestamps: true
  indexNullState: true
  indexPropertyLength: true
  stopwords:
    preset: en
    additions: []
    removals: []
vectorizer: none
vectorizerConfig:
  text2vec-weaviate:
    model: sentence-transformers/all-MiniLM-L6-v2
    vectorizeClassName: true
multiTenancyConfig:
  autoTenantActivation: true
  autoTenantCreation: true
  enabled: true
data_sources:
  url_collection: domain
properties:
- name: uuid
  description: Unique identifier for the record
  dataType:
  - text
  sets:
  - system
  tags:
  - identity
- name: accountId
  description: Account identifier from source system
  dataType:
  - text
  sets:
  - system
  - identifier
  tags:
  - beacon
  - identity
- name: accountName
  description: Name of the account
  dataType:
  - text
  sets:
  - standard
  - drill_down
  tags:
  - identity
- name: accountType
  description: Type of account
  dataType:
  - text
  sets:
  - standard
  tags:
  - categorical
- name: accountSource
  description: Source of the account data (e.g., Import, API, Manual)
  dataType:
  - text
- name: city
  description: Company city location
  dataType:
  - text
  sets:
  - extended
  tags:
  - location
- name: state
  description: Company state/province location
  dataType:
  - text
  sets:
  - standard
  tags:
  - location
- name: country
  description: Company country location
  dataType:
  - text
  sets:
  - extended
  tags:
  - location
- name: zipCode
  description: Company postal/zip code
  dataType:
  - text
  tags:
  - location
- name: employees
  description: Number of employees
  dataType:
  - number
  sets:
  - standard
  tags:
  - metrics
- name: url
  description: Primary validated website URL (discovered by web presence)
  dataType:
  - text
  sets:
  - extended
  tags:
  - identity
  - web
- name: domain
  description: Domain extracted from URL (e.g., example.com)
  dataType:
  - text
  sets:
  - extended
  - identifier
  tags:
  - identity
  - web
- name: annualRevenue
  description: Annual revenue amount
  dataType:
  - number
  tags:
  - financial
- name: foundedYear
  description: Year the company was founded
  dataType:
  - number
  sets:
  - extended
  tags:
  - temporal
- name: stockSymbol
  description: Stock market symbol/ticker
  dataType:
  - text
  tags:
  - financial
  - identity
- name: title
  description: Company title/name extracted from website (from URL snapshot)
  dataType:
  - text
  sets:
  - system
  tags:
  - content
  - enriched
- name: description
  description: Company description
  dataType:
  - text
  sets:
  - standard
  - drill_down
  tags:
  - content
- name: content
  description: Rich business content from website analysis (from URL snapshot)
  dataType:
  - text
  sets:
  - system
  tags:
  - content
  - enriched
- name: overview
  description: Brief company overview based on website content
  dataType:
  - text
  sets:
  - extended
  tags:
  - content
- name: accountOwner
  description: Account owner/manager
  dataType:
  - text
  tags:
  - identity
- name: url_processed
  description: Boolean flag indicating URL enrichment has been completed
  dataType:
  - boolean
  sets:
  - system
  tags:
  - flags
  - processing
- name: page_processed
  description: Boolean flag indicating page content extraction has been completed
  dataType:
  - boolean
  sets:
  - system
  tags:
  - flags
  - processing
- name: has_research
  description: Boolean flag indicating whether this company has any research records
    (competitor, customer, financial, etc.)
  dataType:
  - boolean
- name: research_count
  description: Total count of research records across all research types
  dataType:
  - number
- name: content_quality_score
  description: Numeric score (0-100) indicating content richness and quality for research
  dataType:
  - number
  sets:
  - system
  tags:
  - metrics
  - processing
- name: last_processing_update
  description: Timestamp when processing flags were last updated
  dataType:
  - date
  sets:
  - system
  tags:
  - processing
  - temporal
# === SYSTEM/SYNC FIELDS (for mirroring compatibility) ===
- name: updated_at
  description: Record update timestamp
  dataType:
  - date
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: createdAt
  description: Record creation timestamp
  dataType:
  - date
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: updatedAt
  description: Record update timestamp (sync)
  dataType:
  - date
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: syncVersion
  description: Sync version number
  dataType:
  - int
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: syncedAt
  description: Last sync timestamp
  dataType:
  - date
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: sourceLocation
  description: Source location for sync
  dataType:
  - text
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: lastModifiedLocation
  description: Last modified location
  dataType:
  - text
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: conflictResolution
  description: Conflict resolution status
  dataType:
  - text
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: conflictResolvedAt
  description: Conflict resolution timestamp
  dataType:
  - date
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: name
  description: Display name
  dataType:
  - text
  sets:
  - extended
- name: founded
  description: Founded date as text
  dataType:
  - text
  sets:
  - extended
- name: revenue
  description: Revenue as text
  dataType:
  - text
  sets:
  - extended
- name: score
  description: Company score
  dataType:
  - text
  sets:
  - extended
- name: won
  description: Opportunity won flag
  dataType:
  - boolean
  sets:
  - extended
- name: _old_uuid
  description: Previous UUID
  dataType:
  - uuid
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: test_graphql_sync
  description: Schema sync test field (legacy name)
  dataType:
  - text
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
- name: references
  description: Cached reference UUIDs (auto-generated nested object)
  dataType:
  - object
  sets:
  - system
  moduleConfig:
    text2vec-weaviate:
      skip: true
  nestedProperties:
  - name: product
    dataType:
    - uuid[]
    description: Product research UUIDs
  - name: risk
    dataType:
    - uuid[]
    description: Risk research UUIDs
  - name: competitor
    dataType:
    - uuid[]
    description: Competitor research UUIDs
  - name: industry
    dataType:
    - uuid[]
    description: Industry research UUIDs
  - name: journalist
    dataType:
    - uuid[]
    description: Journalist research UUIDs
  - name: leadership
    dataType:
    - uuid[]
    description: Leadership research UUIDs
  - name: partner
    dataType:
    - uuid[]
    description: Partner research UUIDs
  - name: customer
    dataType:
    - uuid[]
    description: Customer research UUIDs
  - name: financial
    dataType:
    - uuid[]
    description: Financial research UUIDs
  - name: social
    dataType:
    - uuid[]
    description: Social research UUIDs

references:
- name: competitor
  description: Link to competitor research for this company
  uuid_source_field: uuid
  target_collection: Company_research_competitor
  auto_flatten: true
- name: customer
  description: Link to customer research for this company
  uuid_source_field: uuid
  target_collection: Company_research_customer
  auto_flatten: true
- name: financial
  description: Link to financial research for this company
  uuid_source_field: uuid
  target_collection: Company_research_financial
  auto_flatten: true
- name: industry
  description: Link to industry research for this company
  uuid_source_field: uuid
  target_collection: Company_research_industry
  auto_flatten: true
- name: journalist
  description: Link to journalist research for this company
  uuid_source_field: uuid
  target_collection: Company_research_journalist
  auto_flatten: true
- name: leadership
  description: Link to leadership research for this company
  uuid_source_field: uuid
  target_collection: Company_research_leadership
  auto_flatten: true
- name: partner
  description: Link to partner research for this company
  uuid_source_field: uuid
  target_collection: Company_research_partner
  auto_flatten: true
- name: product
  description: Link to product research for this company
  uuid_source_field: uuid
  target_collection: Company_research_product
  auto_flatten: true
- name: risk
  description: Link to risk research for this company
  uuid_source_field: uuid
  target_collection: Company_research_risk
  auto_flatten: true
- name: social
  description: Link to social research for this company
  uuid_source_field: uuid
  target_collection: Company_research_social
  auto_flatten: true
group: company
weaviate_instance: cloud
collection_name: Company_source
uuid_strategy:
  fields:
  - field: domain
    namespace: URL
    description: Primary strategy using domain for deterministic UUIDs (consistent
      across collections)
  - field: url
    namespace: URL
    description: Fallback strategy using full URL for deterministic UUIDs
  - field: accountId
    namespace: DNS
    prefix: account
    description: Final fallback strategy using accountId for records without URLs
dependencies:
- type: foundational
collection_groups:
- company_collections
- production_collections
schema_config:
  additional_properties: true
calculated_fields:
- name: revenue_per_employee
  field_type: calculated
  formula: '(annualRevenue / employees) if (annualRevenue and employees) else None'
  description: üí∞ Revenue efficiency per employee (calculated locally)
  dataType:
  - number
  sets:
  - standard
  tags:
  - calculated
  - financial
  - metrics
  label: Revenue per Employee
  format: currency
  aggregations:
  - avg
  - median
  chart_role:
  - val4
- name: company_age
  field_type: calculated
  formula: '(2024 - foundedYear) if foundedYear else None'
  description: üìÖ Company age in years (calculated locally)
  dataType:
  - number
  sets:
  - standard
  tags:
  - calculated
  - temporal
  - metrics
  label: Company Age
  aggregations:
  - avg
  - median
  chart_role:
  - val3
- name: revenue_size_category
  field_type: calculated
  formula: '"Large" if (annualRevenue and annualRevenue >= 100000000) else ("Medium" if (annualRevenue and annualRevenue >= 10000000) else ("Small" if (annualRevenue and annualRevenue >= 1000000) else ("Startup" if annualRevenue else None)))'
  description: üè∑Ô∏è Revenue size category (calculated locally)
  dataType:
  - text
  sets:
  - standard
  tags:
  - calculated
  - financial
  - categorical
  label: Revenue Size Category
  aggregations:
  - count
  - nunique
  chart_role:
  - cat4
id: Company_source
name: Company_source
devtype: Production
